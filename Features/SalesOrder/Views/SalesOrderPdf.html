@model GidIndustrial.Gideon.WebApi.Models.SalesOrder

<style type="text/css">
    h1{
        color:red;
    }
    *{
        font-family: Arial, Helvetica, sans-serif;
        box-sizing:border-box;
        font-size:18px;
    }
    .purchase-order-outline{
        border: 2px solid gray;
    }
    .purchase-order-number-header{
        font-size:25px;
        text-align: center;
        margin:15px 0;
    }
    .contact-info-container{
        display:inline-block;
        width:100%;
    }
    .column{
        width:49%;
        display:block;
        float:left;
    }
    .column.right{
        margin-left:2%;
    }
    .column div{
        width:100%;
    }
    .contact-info-container label{
        width:144px;
        display:inline-block;
    } 
    .contact-info-container span{
        display:inline-block;
    }
    .billing-address-container,.shipping-address-container{
        width:49%;
        float: left;
        display:inline-block;
    }
    .shipping-address-container{
        margin-left:2%;
    }
    .billing-address-container h2, .shipping-address-container h2{
        background: whitesmoke;
        border-radius: 3px;
        padding:10px;
        text-align: center;
    }
    .disclaimers{
        padding-top:30px;
    }
    .disclaimers p{
        font-size:12px;
        font-style: italic;
    }
    .header-container{
        margin-bottom:10px;
    }
    .purchase-order-title{
        font-size:25px;
    }
    .purchase-order-title-container, .img-container{
        width:49.5%;
        /*border: 1px solid red;*/
        display:inline-block;
    }
    .img-container img{
        display:inline-block;
    }
    .img-container{
        text-align: right;
    }
    .info-boxes-container{
        display:inline-block;
        width:100%;
    }
    .info-box{
        width:32%;
        margin:1%;
        background-color: #f1f1f1;
        padding:5px;
        display:block;
        float:left;
    }
    .info-box.first{
        margin-left:0;
    }
    .info-box.last{
        margin-right:0;
    }
    .info-box-title, .line-items-header-container{
        background-color: #dfdfdf;
        padding:3px;
    }
    .line-items-header-text, .info-box-title-text{
        font-size:26px;
    }
    .info-box-body, .line-items-table-container{
        padding:8px;
    }
    .info-box-body div{
        padding:4px 0;
    }
    .info-box-body.address-body div{
        padding: 1px 0;
    }
    svg{
        height:30px;
        width:30px;
        padding-top:2px;
        color: gray;
        -webkit-text-stroke-color: gray;
    }
</style>
<div>
    <div>
        <div class="header-container">
            <div class="purchase-order-title-container">
                <span class="purchase-order-title">Sales Order #@Model.Id Confirmation</span>
            </div>
            <div class="img-container">
                <img style="width:131px; height:80px;" src="@ViewData["LogoUrl"]" />
            </div>
        </div>
        <div>
            <div class="info-boxes-container">
                <div class="info-box first">
                    <div class="info-box-title">
                        <span class="info-box-title-text">
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
                                <g>
                                    <path fill="#231F20" d="M50,12.5c-20.712,0-37.5,16.793-37.5,37.502C12.5,70.712,29.288,87.5,50,87.5
                                        c20.712,0,37.5-16.788,37.5-37.498C87.5,29.293,70.712,12.5,50,12.5z M53.826,70.86c0,0.72-0.584,1.304-1.304,1.304h-5.044
                                        c-0.72,0-1.304-0.583-1.304-1.304V46.642c0-0.72,0.584-1.304,1.304-1.304h5.044c0.72,0,1.304,0.583,1.304,1.304V70.86z
                                        M49.969,39.933c-2.47,0-4.518-2.048-4.518-4.579c0-2.53,2.048-4.518,4.518-4.518c2.531,0,4.579,1.987,4.579,4.518
                                        C54.549,37.885,52.5,39.933,49.969,39.933z"/>
                                </g>
                            </svg>
                            Information</span>
                    </div>
                    <div class="info-box-body">
                        <div>Sales Order #@Model.Id</div>
                        <div>Created @DateTime.UtcNow</div>
                    </div>
                </div>
                <div class="info-box">
                    <div class="info-box-title">
                        <span class="info-box-title-text">Prepared For</span>
                    </div>
                    <div class="info-box-body">
                        <div>@Model.Contact.FirstName @Model.Contact.LastName</div>
                        <div>@Model.Email</div>
                        <div>@Model.Phone</div>
                    </div>
                </div>
                <div class="info-box last">
                    <div class="info-box-title">
                        <span class="info-box-title-text">Prepared By</span>
                    </div>
                    <div class="info-box-body">
                        <div>Prepared By @Model.Preparer.FirstName @Model.Preparer.LastName</div>
                        <div>@Model.Preparer.Email</div>
                        <div>@Model.Preparer.WorkPhone</div>
                    </div>
                </div>
            </div>
            <div class="info-boxes-container">
                <div class="info-box first">
                    <div class="info-box-title">
                        <span class="info-box-title-text">Shipping Address</span>
                    </div>
                    <div class="info-box-body address-body">
                        <div>@Model.ShippingAddress.Name</div>
                        <div>@Model.ShippingAddress.Address1</div>
                        
                        @if(Model.ShippingAddress.Address2 != null){
                            <div>@Model.ShippingAddress.Address2</div>
                        }
                        @if(Model.ShippingAddress.Address3 != null){
                            <div>@Model.ShippingAddress.Address3</div>
                        }

                        <div>@Model.ShippingAddress.City, @Model.ShippingAddress.State @Model.ShippingAddress.ZipPostalCode</div>
                        
                        @if(Model.ShippingAddress.Country != null){
                            <div>@Model.ShippingAddress.Country.Value</div>
                        }
                    </div>
                </div>
                <div class="info-box">
                    <div class="info-box-title">
                        <span class="info-box-title-text">Billing Address</span>
                    </div>
                    <div class="info-box-body address-body">
                        <div>@Model.BillingAddress.Name</div>
                        <div>@Model.BillingAddress.Address1</div>
                        
                        @if(Model.BillingAddress.Address2 != null){
                            <div>@Model.BillingAddress.Address2</div>
                        }
                        @if(Model.BillingAddress.Address3 != null){
                            <div>@Model.BillingAddress.Address3</div>
                        }

                        <div>@Model.BillingAddress.City, @Model.BillingAddress.State @Model.BillingAddress.ZipPostalCode</div>
                        
                        @if(Model.BillingAddress.Country != null){
                            <div>@Model.BillingAddress.Country.Value</div>
                        }
                    </div>
                </div>
                <div class="info-box last">
                    <div class="info-box-title">
                        <span class="info-box-title-text">Payment Method</span>
                    </div>
                    <div class="info-box-body">
                        
                    </div>
                </div>
            </div>
            <style type="text/css">
            .line-items-table-spacer{
                width:100%;
                height:30px;
            }
            .line-items-table{
                width:100%;
                margin-top:100px;
            }
            .product-header{
                width:70%;
            }
            .grand-total-text, .additional-charge-value{
                display:inline-block;
            }
            .total-column, .grand-total-text, .additional-charge-value{
                width:100px;
                text-align: left;
            }
            th, td{
                text-align: left;
            }
            .total-container{
                text-align: right;
                margin-top:20px;
            }
            .grand-total-title-text{
                font-weight:bold;
            }
            .line-items-table thead th{
                background:whitesmoke;
                border-bottom:1px solid gray;
                padding:3px;
            }
            .line-items-table tr td{
                padding:3px;
                border-bottom:1px solid gray;
            }
            .page2{
                page-break-before: always;
            }
            .line-items-table-container{
                background-color: #f1f1f1;
            }
            </style>
            <div class="line-items-table-spacer"></div>
            <div class="line-items-table-container">
                <div class="line-items-header-container">
                    <span class="line-items-header-text">Line Items</span>
                </div>
                <div class="table line-items-table">
                    <div class="row-header">
                        <div class="td product-header">Product</div>
                        <div class="td">Unit Price</div>
                        <div class="td">Qty</div>
                        <div class="td total-column">Total</div>
                    </div>
                    
                        @{
                            double grandTotalPrice = 0;
                            double subTotal = 0;
                        }
                        @foreach(var salesOrderLineItem in @Model.LineItems)
                        {
                            var productName = salesOrderLineItem.Product != null ? salesOrderLineItem.Product.PartNumber : salesOrderLineItem.ProductName;
                            var price = salesOrderLineItem.Price == null ? 0 : salesOrderLineItem.Price;
                            var priceAfterDiscount = (double)price;
                            if(salesOrderLineItem.DiscountPercent != null && salesOrderLineItem.DiscountPercent > 0){
                                priceAfterDiscount = ((double)price)*(100 - (double)salesOrderLineItem.DiscountPercent)*.01;
                            }
                            double itemTotalPrice;
                            if(salesOrderLineItem.Quantity > 0){
                                itemTotalPrice = priceAfterDiscount*(double)salesOrderLineItem.Quantity;
                            }else{
                                itemTotalPrice = priceAfterDiscount;
                            }
                            subTotal += itemTotalPrice;
                            <div class="row" >
                                <div class="td">@productName</div>
                                <div class="td">@priceAfterDiscount.ToString("C2")</div>
                                <div class="td">@salesOrderLineItem.Quantity</div>
                                <div class="td">@itemTotalPrice.ToString("C2")</div>
                            </div>
                        }
                        @{
                            grandTotalPrice = subTotal;
                            if(Model.SalesTax > 0){
                                grandTotalPrice += (double)Model.SalesTax;
                            }else{
                                Model.SalesTax = 0;
                            }
                            if(Model.WireTransferFee > 0){
                                grandTotalPrice += (double)Model.WireTransferFee;
                            }else{
                                Model.WireTransferFee = 0;
                            }
                            if(Model.ShippingAndHandlingFee > 0){
                                grandTotalPrice += (double)Model.ShippingAndHandlingFee;
                            }else{
                                Model.ShippingAndHandlingFee = 0;
                            }
                            if(Model.ExpediteFee > 0){
                                grandTotalPrice += (double)Model.ExpediteFee;
                            }else{
                                Model.ExpediteFee = 0;
                            }
                        }
                    
                </div>
                <div class="total-container">
                    <div class="additional-charge">
                        <span class="additional-charge-title">Subtotal:</span>
                        <span class="additional-charge-value">@subTotal.ToString("C2")</span>
                    </div>
                    <div class="additional-charge">
                        <span class="additional-charge-title">Sales Tax:</span>
                        <span class="additional-charge-value">@Model.SalesTax.Value.ToString("C2")</span>
                    </div>
                    <div class="additional-charge">
                        <span class="additional-charge-title">Wire Transfer Fee:</span>
                        <span class="additional-charge-value">@Model.WireTransferFee.Value.ToString("C2")</span>
                    </div>
                    <div class="additional-charge">
                        <span class="additional-charge-title">Shipping &amp; Handling:</span>
                        <span class="additional-charge-value">@Model.ShippingAndHandlingFee.Value.ToString("C2")</span>
                    </div>
                    <div class="additional-charge">
                        <span class="additional-charge-title">Expedite Fee:</span>
                        <span class="additional-charge-value">@Model.ExpediteFee.Value.ToString("C2")</span>
                    </div>
                    <span class="grand-total-title-text">Grand Total: </span>
                    <span class="grand-total-text">@grandTotalPrice.ToString("C2")</span>
                </div>
            </div>
            <br>
            <br>
            <!-- <div class="disclaimers">
                <p>Due to the nature of our industry, availability and price are subject to change until purchase order and payment are
                confirmed by GID Industrial (the Company). Products that are scarce may quickly change and salesOrderd price is not a
                guarantee. Credit cards are acceptable for US customers, wire transfer for International customers.</p>
                <p>GID Industrial is not responsible for international shipping costs or customs fees. All international orders will be
                declared at sold value</p>
                <p>GID Industrial does not accept returns unless an RMA is issued. NCNR items are non-negotiable. Purchase of new,
                refurbished, and used items are final. Customer may specify new, refurbished, or used requirements. Warranties
                may be available (based on product source), and GID warranties SBCs. Proof of warranty is required for any return.</p>
                <p>Due to the fragility of the items which the company repairs, the company holds no liability for damage caused while
                client’s items are in GID’s care, including, but not limited to: refurbishment, repair, rework, testing, cleaning, or
                baking.
                </p>
                <p>Freight cost will be calculated and invoiced at the time of shipment (unless if freight is explicitly salesOrderd or if
                customer freight account is used).</p>
            </div> -->
        </div>
    </div>
</div>